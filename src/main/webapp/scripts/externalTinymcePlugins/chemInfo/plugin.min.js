/**
 * Plugin for showing chem info in a sidebar
 * Author: Kristiyan
 * Date: 06.12.2019
 */

tinymce.PluginManager.add('cheminfo', function (editor, url) {
	editor.ui.registry.addSidebar('cheminfo', {
    tooltip: 'My sidebar',
    icon: 'comment',
    onShow: function (api) {
      var event = new CustomEvent('tinymce-chem-sidebar', {'detail': true});
      window.parent.document.dispatchEvent(event);
    },
    onHide: function (api) {
      var event = new CustomEvent('tinymce-chem-sidebar', {'detail': false});
      window.parent.document.dispatchEvent(event);
    }
	});
});
